# milligramme.github.io -> milligramme.cc/note


```rb
require 'fileutils'
require 'erb'


dist_dir = File.expand_path("~/Desktop/redirection")
FileUtils.mkdir dist_dir unless File.exist? dist_dir

github_pages_url = %w{
2009/03/27/indesign-join-textframe.html 
2009/04/04/indesign-skew.html 
2009/04/05/indesign-string-to-color.html 
2009/04/06/indesign_4c6c.html 
2009/04/06/indesign-bounds-move.html 
2009/04/15/indesign-export-styles.html 
2009/04/23/indesign-cancel-cell-overflows.html 
2009/04/24/indesign-export-pdf.html 
2009/04/25/indesign-interact_with_all.html 
2009/04/27/indesign-hidden-window.html 
2009/04/29/indesign-pdf-anchor.html 
2009/04/30/indesign-parent.html 
2009/05/05/indesign-merge-with-next-cell.html 
2009/05/08/indesign-preflight-book.html 
2009/05/11/indesign-change-cell-style.html 
2009/05/20/indesign-convert-to-table.html 
2009/05/21/indesign-invert-color.html 
2009/05/26/indesign-tatechuyoko.html 
2009/05/28/indesign-get-color-values.html 
2009/06/03/indesign-decimal.html 
2009/06/06/indesign-vertical-line.html 
2009/06/08/osx-ime.html 
2009/06/08/osx-input-kotoeri.html 
2009/05/11/indesign-change-cell-style.html 
2009/06/11/indesign-cell-info.html 
2009/06/12/indesign-cancel-overflow.html 
2009/06/15/indesign-swatch-color-value.html 
2009/06/16/indesign-gradient.html 
2009/06/24/indesign-share-locked-library.html 
2009/06/24/indesign-illustrator-dragndrop-overprint-white.html 
2009/06/26/indesign-illustrator-dragndrop-group.html 
2009/06/29/indesign-illustrator-dragndrop-summary.html 
2009/07/01/indesign-hidden-colors-cmy.html 
2009/07/02/indesign-gradient-to-colors.html 
2009/07/03/indesign-createoutlines-overprint-on.html 
2009/07/04/indesign-create-bookfile.html 
2009/07/07/indesign-quick-apply-with-q.html 
2009/07/08/indesign-split-with-cell-paragraph.html 
2009/07/09/trackball.html 
2009/07/13/illustrator-repair-scale.html 
2009/07/15/screenshot-cmd-shift-4-space.html 
2009/07/21/indesign-fit-textframe.html 
2009/07/23/indesign-illustrator-color-shortcut.html 
2009/07/24/indesign-illustrator-escape-text-editting.html 
2009/07/27/indesign-each-cell-width.html 
2009/07/28/extendscript-close-without-saving.html 
2009/08/03/indesign-library-assets-preview.html 
2009/08/05/extendscript-dialog.html 
2009/08/05/indesign-cleanup-via-inx.html 
2009/08/05/osx-translation-wdgt.html 
2009/08/06/indesign-export-shortcut.html 
2009/08/19/indesign-relink-with-rename.html 
2009/08/24/indesign-relink-with-rename-ui.html 
2009/08/25/indesign-modify-relink-with-rename.html 
2009/08/26/indesign-adobe_swatch_exchange-ase.html 
2009/08/28/event-dtp_booster_005.html 
2009/08/30/indesign-rule-color-textcolor.html 
2009/09/01/indesign-jr.html 
2009/09/01/indesign-modify-cancel-overflow.html 
2009/09/02/indesign-confused.html 
2009/09/02/indesign-drop.html 
2009/09/03/indesign.html 
2009/09/04/indesign-excel-data-merge.html 
2009/09/04/indesign.html 
2009/09/05/indesign.html 
2009/09/07/indesign.html 
2009/09/08/indesign.html 
2009/09/09/indesign_908e.html 
2009/09/09/indesign_c057.html 
2009/09/09/indesign.html 
2009/09/10/indesign_dc68.html 
2009/09/10/indesign.html 
2009/09/14/indesign-add-named-assets.html 
2009/09/15/indesign.html 
2009/09/16/indesign.html 
2009/09/23/indesign.html 
2009/09/25/indesign_bfa6.html 
2009/09/25/indesign.html 
2009/09/28/indesign.html 
2009/09/29/indesign-hyperlink.html 
2009/09/29/indesign.html 
2009/10/01/illustrator.html 
2009/10/07/indesign.html 
2009/10/08/indesign_4a6e.html 
2009/10/08/indesign.html 
2009/10/09/indesign.html 
2009/10/14/event-dtp_booster_007.html 
2009/10/14/finderfilefolderjs.html 
2009/10/15/indesignxml.html 
2009/10/18/indesign.html 
2009/10/22/indesign.html 
2009/10/23/illustratorai.html 
2009/10/26/indesign.html 
2009/10/27/indesignoptdrag.html 
2009/10/30/indesign.html 
2009/11/01/indesign.html 
2009/11/05/scriptuigionui.html 
2009/11/08/indesign.html 
2009/11/09/scriptui.html 
2009/11/12/indesign_.html 
2009/11/13/indesign.html 
2009/11/16/indesign.html 
2009/11/17/indesign.html 
2009/11/18/illustrator.html 
2009/11/20/indesign.html 
2009/11/24/indesign.html 
2009/12/14/indesign.html 
2009/12/17/indesign.html 
2009/12/16/illustratoroptionenter.html 
2009/12/19/indesign.html 
2009/12/22/indesign.html 
2009/12/24/indesign.html 
2010/01/05/indesign.html 
2010/01/07/indesign.html 
2010/01/08/indesign.html 
2010/01/08/illustrator.html 
2010/01/12/indesign.html 
2010/01/13/indesign_guibugfix.html 
2010/01/14/indesign.html 
2010/01/19/indesignscriptuiindesign.html 
2010/01/20/eventdtp_booster_010.html 
2010/01/20/indesign_40ed.html 
2010/01/20/indesign.html 
2010/01/26/indesign.html 
2010/01/27/indesign.html 
2010/01/28/indesign.html 
2010/02/01/indesign.html 
2010/02/02/indesign.html 
2010/02/05/indesign.html 
2010/02/06/indesign.html 
2010/02/10/indesign10.html 
2010/02/07/extendscriptcolorpicker.html 
2010/02/16/indesign.html 
2010/02/18/indesign_52f2.html 
2010/02/17/indesign.html 
2010/02/18/indesign.html 
2010/02/19/indesign.html 
2010/02/23/indesign.html 
2010/02/25/indesigncs3.html 
2010/02/26/indesign.html 
2010/03/03/indesign_3e45.html 
2010/03/03/indesign_bb9d.html 
2010/03/03/indesign.html 
2010/03/09/indesign.html 
2010/03/09/indesign_8231.html 
2010/03/10/indesign.html 
2010/04/15/indesignno39.html 
2010/04/08/indesignsvg.html 
2010/04/12/indesignafteropen.html 
2010/04/13/photoshoppdfepspsd.html 
2010/04/17/indesign.html 
2010/04/20/indesigndocapp.html 
2010/06/01/indesign.html 
2010/04/28/indesign.html 
2010/06/02/indesign.html 
2010/05/29/indesigncs4.html 
2010/06/01/scriptui.html 
2010/06/02/eventdtp_booster_012.html 
2010/06/21/eventdtp_booster_014.html 
2010/06/22/indesign.html 
2010/06/26/indesign.html 
2010/07/02/indesign.html 
2010/07/02/indesignpng.html 
2010/07/13/indesignjust_now_.html 
2010/07/14/scriptuiedittext.html 
2010/07/15/extendscriptwritewritelnestk.html 
2010/07/23/illustrator.html 
2010/07/23/scriptui.html 
2010/08/14/textmatecolors_addtmsnippet_indesign_js.html 
2010/08/19/indesign.html 
2010/09/03/indesign.html 
2010/09/03/indesignscriptui.html 
2010/10/05/eventwebrick_cafe1.html 
2010/10/08/indesign.html 
2010/10/08/indesignuserinteractionlevel.html 
2010/10/14/indesign140.html 
2010/10/22/indesign_revert.html 
2010/10/25/indesignregexp_array_string.html 
2010/10/26/illustrator.html 
2010/10/27/webmakes_this.html 
2010/10/30/eventrfm_code_reading_9.html 
2010/11/02/indesignenum.html 
2010/11/02/scriptui.html 
2010/11/04/scriptui.html 
2010/11/05/indesign.html 
2010/11/17/indesign_e952.html 
2010/11/10/indesign.html 
2010/11/11/indesign.html 
2010/11/11/indesignillustratorjsxbinjsx.html 
2010/11/17/indesign.html 
2010/12/06/homebrewhomebrew.html 
2010/11/19/scriptuimac.html 
2010/11/20/indesignscriptui_137f.markdohtml 
2010/11/20/indesignscriptui.html 
2010/11/24/scriptuidynamic_dropdownlist_test.html 
2010/11/25/indesign.html 
2010/11/26/scriptuiprogress_slider_checkbox_and_radiobutton_test.html 
2010/11/29/applescriptindesignapp.html 
2010/11/19/scriptuimac.html 
2010/11/30/indesignscriptui.html 
2010/11/30/indesign.html 
2010/12/01/scriptuics369px.html 
2010/12/02/scriptui.html 
2010/12/08/indesigndingbat.html 
2010/12/03/indesignscriptui.html 
2010/12/10/extendscriptjsx.html 
2010/12/13/rvmrubyrvm.html 
2010/12/13/rvmtextmatetextmatervmruby.html 
2010/12/15/indesign_8791.html 
2010/12/15/indesign.html 
2010/12/24/eventrails58.html 
2011/01/01/music.html 
2011/01/07/indesign.html 
2011/01/11/eventindesign_script.html 
2011/01/13/indesign.html 
2011/01/14/indesignxmlindesign.html 
2011/01/15/extendscript.html 
2011/01/18/indesignxml.html 
2011/01/19/bundlerbundergem.html 
2011/01/21/rvmrvmgem.html 
2011/01/29/indesign.html 
2011/02/04/indesign.html 
2011/02/05/osx_alfred_.html 
2011/02/08/textmatetextmate.html 
2011/02/18/eventrfm_code_reading_10.html 
2011/02/16/indesignxxtablesadd_.html 
2011/02/16/indesign.html 
2011/02/23/indesign-resize-method.html 
2011/02/24/indesign_cs5resize.html 
2011/03/03/indesign.html 
2011/03/09/indesign.html 
2011/04/12/indesign.html 
2011/04/14/indesignscriptui.html 
2011/04/15/indesignscriptpanel.html 
2011/04/19/indesign_cs5scriptpreferences.html 
2011/05/18/indesign_localize_.html 
2011/05/20/scriptuics3minimumsize.html 
2011/05/24/alfredalfredtwilog.html 
2011/07/11/web.html 
2011/07/11/miscrails.html 
2011/07/21/event_scratch_2.html 
2011/08/31/indesignscriptargs.html 
2011/07/21/indesign.html 
2011/07/22/webpow.html 
2011/07/25/indesign.html 
2011/07/28/rvmrvm_seppuku_.html 
2011/07/29/webpinboardin_untagged_.html 
2011/08/05/webguard_.html 
2011/08/05/indesign.html 
2011/08/11/textmatebundlegit_submodule.html 
2011/08/18/textmate.html 
2011/08/25/git_gitignore_.html 
2011/09/06/indesign-compare-overflow-scripts.html 
2011/09/08/scriptui-embed-params.html 
2011/09/22/font_ricty_.html 
2011/09/28/textmate.html 
2011/11/02/homebrew_brew_depstree_brew_deps_--tree.html 
2011/12/13/bundler-graphviz.html 
2011/12/26/indesign-extend-pasteboard.html 
2011/12/14/git_git-tag-push.html 
2011/12/15/git_git_branch_delete.html 
2011/12/28/musicbgm2011.html 
2012/01/06/scriptui-progressbar.html 
2012/01/12/git_forkearthquakegemmerge.html 
2012/01/26/ruby_pry_what_methods_.html 
2012/06/04/indesigndocsave.html 
2012/02/08/git_git_log_.html 
2012/02/09/dev_tree_.html 
2012/02/10/dev_pow_.html 
2012/02/14/ruby_glitch.html 
2012/02/26/git_branch.html 
2012/02/29/misc_ifttt-pinboard-google_calendar.html 
2012/03/03/ruby-unicode-conversion.html 
2012/03/15/git_gitignored.html 
2012/03/15/textmate_.html 
2012/04/04/ruby_rvmopensslssl.html 
2012/06/27/indesign_table.html 
2012/07/23/processingtextmate_.html 
2012/07/23/textmate_ackmate.html 
2012/07/23/javascript_objhasownpropertypropprop_in_obj.html 
2012/09/11/translate_heres_a_short_list_of_dos_and_donts_to_keep_in_mind.html 
2012/10/24/textmate2_textmate2_.html 
2012/11/12/osx-network-switch.html 
2012/12/27/osx_gititlaunchd.html 
2012/12/27/alfred_.html 
2012/12/31/music_bgm2012.html 
2013/05/22/control-2-3-4.html
2013/05/23/behave-as-both-runtime-and-library.html
2013/05/27/regexp-japanese.html
2013/05/28/jsx-appencoding.html
2013/05/29/burn-folder-via-cli.html
2013/06/12/use-rbenv.html
2013/06/20/routes-memo.html
2013/06/25/true.html
2013/06/27/multi-accounts-earthquake-gem.html
2013/06/28/stringer-rss.html
2013/07/05/post-from-iphone.html
2013/07/17/fileutils_cp_rcopy_entry.html
2013/07/24/earthquake-gem-plugins.html
2013/07/24/github-pages-build-failed.html
2013/09/03/jsx-mount-retry.html
2013/09/04/switch-from-jekyll-to-middleman.html
2013/09/10/disable-textmate-md-header.html
2013/09/11/github-pages-with-travis-ci.html
2013/09/17/stringer-icon.html
2013/09/20/textmate-edit-bundle-with-plist.html
2013/09/26/heroku-pg-vacuum.html
2013/10/02/new-macbookair-pt1.html
2013/10/03/new-macbookair-pt2.html
2013/10/04/edit-plist.html
2013/10/09/os-version-from-cli.html
2013/10/10/indesign-api-documentation.html
2013/10/17/dotjs-ssl-instruction.html
2013/10/22/new-macbookair-pt3.html
2013/10/23/command-line-memo.html
2013/10/24/mongodb-dump-restore.html
2013/10/28/upload-to-remote.html
2013/10/30/markdown-parser.html
2013/11/01/command-line-memo.html
2013/11/14/batch-convert-via-mogrify.html
2013/11/20/textmate2-quicklook.html
2013/11/25/bash-to-zsh.html
2013/11/27/sync-with-rsync.html
2013/11/28/simple-http-server.html
2013/12/09/zsh-completitons-and-zaw.html
2013/12/12/deploy-gitbucket-on-pm2.html
2013/12/19/brew-cask.html
2014/01/08/date-format.html
2014/02/04/textmate2-file-browser-style.html
2014/02/06/redifinescale-indesign.html
2014/02/12/label-and-insertlabel.html
2014/02/18/fix-epub-for-ibooks.html
2014/02/25/open_dwg_with_ai.html
2014/03/04/get-used-font-by-psd.html
2014/03/07/git-ftp.html
2014/03/12/duplicated-cell-value.html
2014/03/13/new-tab-vomnibar.html
2014/03/19/google-translate-cli.html
2014/03/24/crlf-to-lf.html
2014/03/29/cli-lzh.html
2014/04/02/gitbucket-homebrew.html
2014/04/08/vagrant-vbguest.html
2014/04/09/haml-pre-indent.html
2014/04/25/processing2-osx.html
2014/05/14/textmate-support.html
2014/06/10/recompile-applescript-app.html
2014/06/18/brew-services.html
2014/06/23/install-scala.html
2014/06/24/indesign-align-distribute-objects.html
2014/06/26/dropdownlist-title.html
2014/07/18/brew-services-unsupported.html
2014/07/22/include-specialcharacters.html
2014/07/23/bridge-jsx.html
2014/07/28/underscore-and-jsx.html
2014/08/20/add-magic-comment-to-htmloutput.html
2014/08/25/postgresql-on-osx.html
2014/08/28/scriptui_boilerplate-test.html
2014/09/03/indesign-table-to-jpg.html
2014/09/04/recursive-level.html
2014/09/05/textmate-tempfile.html
2014/09/16/fileopendialog-filter-osx.html
2014/09/17/omit-app.html
2014/09/20/java6tojava7.html
2014/09/24/gmail-multi-account-check.html
2014/09/25/stringer-lazy-fetch.html
2014/09/30/alert-3rd-argument.html
2014/10/21/tables_everyitem_cells_everyitem.html
2014/10/28/spreadsheet-gem-color-sample.html
2014/10/29/require_reloader-fail-namespace-gem.html
2014/10/30/indesign-async-exportfile.html
2014/11/26/doubleclick-jsx-with-underscore-js.html
2014/11/27/this-object-bridgetalk.html
2014/11/28/rubyxl.html
2014/12/26/git-has-serious-security-vulnerabilities.html
2015/01/28/git-empty-commit.html
2015/01/30/menumate.html
2015/02/08/officemac.html
2015/02/19/wont-recover-indd.html
2015/02/27/git-tag-message-update.html
2015/03/03/peco.html
2015/03/12/share_indd_with_filelock.html
2015/03/27/set-indesign-composer-jsx.html
2015/04/07/ai-link-check-jsx.html
2015/04/15/place-indd-jsx.html
2015/04/16/id-valid-nested-grepstyles-expression.html
2015/04/20/yosemite-adobe-cs3.html
2015/07/03/cant-access-railsapp.html
2015/07/08/spreadsheet-gem-open-xlsx.html
2015/07/10/dump-sql.html
2015/07/20/update-to-osx-mavericks.html
2015/07/22/golang.html
2015/07/23/rouge-warning.html
2015/07/31/applescript-click-dont-work-in-mavericks.html
2015/08/15/p5js-resize-canvas.html
2015/08/16/p5js-target-parent.html
2015/08/21/alfred-iterm.html
2015/08/25/processing-3-osx-in-application-folder.html
2015/09/03/diff-unified.html
2015/09/04/wordpress-to-middleman.html
2015/09/09/indesign-tagged-text-utf16le.html
2015/10/13/lexer-js-ruby.html
2015/10/14/convert-multi-tif.html
2015/11/02/svg-text-anchor-ignored-by-ai.html
2015/12/01/native-extension-gem.html
2015/12/22/brew-cask-conflict.html
2016/01/04/indesign-hidden-object-find-wont-work.html
2016/01/11/update-blog-middleman4.html
2016/01/18/middleman-deploy.html
2016/01/19/middleman-deploy-wecker.html
2016/01/28/tree-indent.html
2016/02/05/electron-with-native-modules.html
2016/02/18/middleman-ignore-build.html
2016/02/25/homebrew_github_api_token.html
2016/03/02/git-diff-cached.html
2016/03/07/osx-version-ruby-version.html
2016/04/13/textmate-default-font-tm_properties.html
2016/05/10/ind-dropcap-detail.html
2016/05/13/indesign-findkeystrings.html
2016/05/13/middleman-blog-samedate.html
2016/05/20/extractkey-forgotten.html
2016/05/31/git-push-f-head.html
2016/06/13/brew-beer.html
2016/06/16/extendscript-date-util.js.html
2016/06/16/nvm-update.html
2016/06/30/fswatch-rake-task.html
2016/07/07/imagemagick-temporary.html
2016/07/08/textmate-reset-to-default.html
2016/07/27/rezip-docx.html
2016/08/02/indesign-current-toolname.html
2016/08/03/pp-output-to-file.html
2016/08/05/alfred3-with-iterm2-v3.html
2016/08/10/textmate-tranparent-background.html
2016/08/19/estk-comment.html
2016/08/22/pure-indd-or-interchanged-indd.html
2016/08/23/nkf-nkf.html
2016/08/31/textmate-clipboard-history.html
2016/09/01/pdf-replace-string.html
2016/09/07/parse-json-extendscript.html
2016/09/13/wordnet.html
2016/10/12/textmate-rip-avian.html
2016/10/21/indesign-datamerge-via-jsx.html
2016/10/31/89858error.html
2016/11/09/indesign-minimum-cell-size.html
2016/11/17/from-middlemanblog-to-hugo.html
2016/11/25/update-old-electron-app.html
2016/11/26/update-old-electron-app-build-win.html
2016/12/01/prevent-image-place-progress.html
2016/12/05/compare-pdf-diff-pdf.html
2016/12/07/devnull.html
2016/12/09/json-parse-symbolize.html
2016/12/10/terminal-notifier-without-timeout.html
2016/12/15/deploy-with-wercker.html
2016/12/16/syntaxhighlight-test.html
2016/12/17/create-hugo-theme.html
2016/12/21/aerobatic-bitbucket-addon.html
2016/12/26/specific-install-gem.html
2016/12/27/update-system-ruby-gem.html
2017/01/01/replace-from-middleman-to-hugo.html
2017/01/10/sakura-githook-post-receive.html
2017/01/11/bundle-reinstall.html
}


reflesh_template = <<-EOS
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>moved</title>
  <meta http-equiv="refresh" content="0; url=<%= url %>">
  <link rel="canonical" href="<%= url %>" />
</head>
<body></body>
</html>
EOS

github_pages_url.each do |path|
  post_url = File.basename(path.gsub("/","-"), ".html")
  url = "http://milligramme.cc/note/post/#{post_url}"
  
  FileUtils.mkpath(File.join(dist_dir, File.dirname(path)))
  # middleman style
  File.open(File.expand_path(File.join(dist_dir, path)), "wb") do |f|
    f.print ERB.new(reflesh_template).result(binding)
  end
  
  FileUtils.mkpath(File.join(dist_dir, post_url))
  # hugo style
  File.open(File.expand_path(File.join(dist_dir, post_url, "index.html")), "wb") do |f|
    f.print ERB.new(reflesh_template).result(binding)
  end
end
```